**2025.1.5** 22:57
## éš¾åº¦ <span style="color:orange">Medium</span>
link: https://leetcode.cn/problems/find-first-and-last-position-of-element-in-sorted-array/description/<br>
tag:æ•°ç»„ï¼ŒäºŒåˆ†æŸ¥æ‰¾
## é¢˜ç›®
ç»™ä½ ä¸€ä¸ªæŒ‰ç…§éé€’å‡é¡ºåºæ’åˆ—çš„æ•´æ•°æ•°ç»„ `nums`ï¼Œå’Œä¸€ä¸ªç›®æ ‡å€¼ `target`ã€‚è¯·ä½ æ‰¾å‡ºç»™å®šç›®æ ‡å€¼åœ¨æ•°ç»„ä¸­çš„å¼€å§‹ä½ç½®å’Œç»“æŸä½ç½®ã€‚

å¦‚æœæ•°ç»„ä¸­ä¸å­˜åœ¨ç›®æ ‡å€¼ `target`ï¼Œè¿”å› `[-1, -1]`ã€‚

ä½ å¿…é¡»è®¾è®¡å¹¶å®ç°æ—¶é—´å¤æ‚åº¦ä¸º `O(log n)` çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜ã€‚

 

ç¤ºä¾‹ 1ï¼š

è¾“å…¥ï¼š`nums` = [5,7,7,8,8,10], `target` = 8
è¾“å‡ºï¼š[3,4]<br>
**ç¤ºä¾‹ 2ï¼š**

è¾“å…¥ï¼š`nums` = [5,7,7,8,8,10], `target` = 6
è¾“å‡ºï¼š[-1,-1]<br>
**ç¤ºä¾‹ 3ï¼š**

è¾“å…¥ï¼š`nums` = [], `target` = 0
è¾“å‡ºï¼š[-1,-1]<br>
 

**æç¤ºï¼š**

0 <= `nums.length` <= 10^5<br>
-10^9 <= `nums[i]` <= 10^9<br>
`nums` æ˜¯ä¸€ä¸ª**éé€’å‡æ•°ç»„**<br>
-10^9 <= `target` <= 10^9<br>
## é¢˜ç›®è¦ç‚¹è§£è¯»
âœ…â€œéé€’å‡æ•°ç»„â€ ï¼šæ„å‘³ç€å…ƒç´ æ˜¯æŒ‰ä»å°åˆ°å¤§ä¾æ¬¡æ’åˆ—çš„ï¼Œ**å…è®¸ç›¸é‚»å…ƒç´ ç›¸ç­‰**ï¼ˆå³ä¸è¦æ±‚ä¸¥æ ¼é€’å¢ï¼‰ï¼Œä½†ç»ä¸å…è®¸å‡ºç°åé¢çš„å…ƒç´ æ¯”å‰é¢æ›´å°çš„æƒ…å†µã€‚â¤ï¸å¯ä»¥ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ <br>
âœ…æˆ‘ä»¬å¸Œæœ›åœ¨ä¸€ä¸ªéé€’å‡ï¼ˆå³å‡åºï¼‰æ•°ç»„ä¸­ï¼ŒæŸ¥æ‰¾ç›®æ ‡å€¼ target çš„èµ·å§‹ä¸‹æ ‡å’Œç»“æŸä¸‹æ ‡ã€‚
è‹¥ä¸å­˜åœ¨ targetï¼Œåˆ™è¿”å› [-1, -1]ã€‚<br>
**ä¸€ä¸ªå¸¸è§çš„é«˜æ•ˆåšæ³•æ˜¯**ï¼šåˆ©ç”¨äºŒåˆ†æŸ¥æ‰¾ï¼ˆBinary Searchï¼‰åˆ†åˆ«æ‰¾åˆ°ç›®æ ‡å€¼çš„èµ·å§‹ä½ç½®ï¼ˆfirst occurrenceï¼‰å’Œç»“æŸä½ç½®ï¼ˆlast occurrenceï¼‰ã€‚äºŒåˆ†æŸ¥æ‰¾çš„æ—¶é—´å¤æ‚åº¦ä¸º ğ‘‚(logğ‘›)ï¼Œæˆ‘ä»¬**åš 2 æ¬¡äºŒåˆ†æŸ¥æ‰¾**ï¼Œæ€»ä½“ä¾ç„¶æ˜¯ O(logn)ã€‚<br>

âœ…**ä¸ºä»€ä¹ˆè¦åˆ†ä¸¤æ¬¡æ‰¾ï¼Ÿ**

ä¸€æ¬¡å•çº¯çš„äºŒåˆ†æŸ¥æ‰¾åªèƒ½ä¿è¯æ‰¾åˆ°â€œæŸä¸€ä¸ª target çš„ä½ç½®â€ï¼Œä½†æ— æ³•ç¡®å®šæ˜¯ç¬¬ä¸€ä¸ªè¿˜æ˜¯æœ€åä¸€ä¸ªã€‚
é€šè¿‡åˆ†åˆ«é’ˆå¯¹â€œæ‰¾ç¬¬ä¸€ä¸ªâ€å’Œâ€œæ‰¾æœ€åä¸€ä¸ªâ€æ¥è°ƒæ•´äºŒåˆ†æŸ¥æ‰¾çš„æ”¶ç¼©æ¡ä»¶ï¼Œå°±å¯ä»¥åœ¨å„è‡ªçš„æœç´¢èŒƒå›´é‡Œé€¼è¿‘æ­£ç¡®çš„è¾¹ç•Œã€‚
## é¢˜è§£
```java
class Solution {
    public int[] searchRange(int[] nums, int target) {
        int leftIndex = findFirstPosition(nums, target);
        int rightIndex = findLastPosition(nums, target);

        return new int[]{leftIndex, rightIndex};
    }

    // æŸ¥æ‰¾ target çš„ç¬¬ä¸€ä¸ªå‡ºç°ä½ç½®
    private int findFirstPosition(int[] nums, int target) {
        int left = 0;
        int right = nums.length - 1;
        int result = -1;

        while (left <= right) {
            int mid = left + (right - left) / 2;

            if (nums[mid] == target) {
                // å…ˆè®°å½•è¿™ä¸ªä½ç½®ï¼Œç„¶åç»§ç»­å¾€å·¦æ‰¾
                result = mid;
                right = mid - 1;//â—important
            } else if (nums[mid] < target) {
                // target æ¯” mid å¤§ï¼Œå¾€å³æ‰¾
                left = mid + 1;
            } else {
                // nums[mid] > targetï¼Œå¾€å·¦æ‰¾
                right = mid - 1;
            }
        }

        return result;
    }

    // æŸ¥æ‰¾ target çš„æœ€åä¸€ä¸ªå‡ºç°ä½ç½®
    private int findLastPosition(int[] nums, int target) {
        int left = 0;
        int right = nums.length - 1;
        int result = -1;

        while (left <= right) {
            int mid = left + (right - left) / 2;

            if (nums[mid] == target) {
                // å…ˆè®°å½•è¿™ä¸ªä½ç½®ï¼Œç„¶åç»§ç»­å¾€å³æ‰¾
                result = mid;
                left = mid + 1;//â—important
            } else if (nums[mid] < target) {
                // å¾€å³æ‰¾
                left = mid + 1;
            } else {
                // nums[mid] > target
                right = mid - 1;
            }
        }

        return result;
    }
    }
```
