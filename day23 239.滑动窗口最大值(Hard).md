linkğŸ”—ï¼š https://leetcode.cn/problems/sliding-window-maximum/description/?envType=study-plan-v2&envId=top-100-liked

## é¢˜ç›®

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `nums`ï¼Œæœ‰ä¸€ä¸ªå¤§å°ä¸º `k` çš„æ»‘åŠ¨çª—å£ä»æ•°ç»„çš„æœ€å·¦ä¾§ç§»åŠ¨åˆ°æ•°ç»„çš„æœ€å³ä¾§ã€‚ä½ åªå¯ä»¥çœ‹åˆ°åœ¨æ»‘åŠ¨çª—å£å†…çš„ `k` ä¸ªæ•°å­—ã€‚æ»‘åŠ¨çª—å£æ¯æ¬¡åªå‘å³ç§»åŠ¨ä¸€ä½ã€‚

è¿”å› *æ»‘åŠ¨çª—å£ä¸­çš„æœ€å¤§å€¼* ã€‚



**ç¤ºä¾‹ 1ï¼š**

```
è¾“å…¥ï¼šnums = [1,3,-1,-3,5,3,6,7], k = 3
è¾“å‡ºï¼š[3,3,5,5,6,7]
è§£é‡Šï¼š
æ»‘åŠ¨çª—å£çš„ä½ç½®                æœ€å¤§å€¼
---------------               -----
[1  3  -1] -3  5  3  6  7       3
 1 [3  -1  -3] 5  3  6  7       3
 1  3 [-1  -3  5] 3  6  7       5
 1  3  -1 [-3  5  3] 6  7       5
 1  3  -1  -3 [5  3  6] 7       6
 1  3  -1  -3  5 [3  6  7]      7
```

**ç¤ºä¾‹ 2ï¼š**

```
è¾“å…¥ï¼šnums = [1], k = 1
è¾“å‡ºï¼š[1]
```

 

**æç¤ºï¼š**

- `1 <= nums.length <= 105`
- `-104 <= nums[i] <= 104`
- `1 <= k <= nums.length`

## åˆ†æ

å•è°ƒé˜Ÿåˆ—

### å¤æ‚åº¦

- **æ—¶é—´**ï¼š`O(n)`ï¼ˆæ¯ä¸ªå…ƒç´ æœ€å¤šå…¥é˜Ÿä¸€æ¬¡ã€å‡ºé˜Ÿä¸€æ¬¡ï¼‰
- **ç©ºé—´**ï¼š`O(k)`ï¼ˆé˜Ÿåˆ—ä¸­æœ€å¤šä¿å­˜ k ä¸ªä¸‹æ ‡ï¼‰

## é¢˜è§£

Java

```java
import java.util.*;

class Solution {
    public int[] maxSlidingWindow(int[] nums, int k) {
        int n = nums.length;
        if (n == 0 || k == 0) return new int[0];
        int[] res = new int[n - k + 1];

        Deque<Integer> dq = new ArrayDeque<>(); // å­˜â€œä¸‹æ ‡â€ï¼Œä¿æŒå¯¹åº”çš„å€¼é€’å‡

        for (int i = 0; i < n; i++) {
            // 1) ç»´æŠ¤é˜Ÿåˆ—é€’å‡ï¼šæŠŠé˜Ÿå°¾ <= å½“å‰å€¼ çš„ä¸‹æ ‡éƒ½å¼¹æ‰ï¼ˆå®ƒä»¬ä»¥åä¸ä¼šæˆä¸ºæœ€å¤§ï¼‰
            while (!dq.isEmpty() && nums[dq.peekLast()] <= nums[i]) {
                dq.pollLast();
            }
            // 2) å½“å‰ä¸‹æ ‡å…¥é˜Ÿ
            dq.offerLast(i);

            // 3) çª—å£å·¦è¾¹ç•Œï¼ši - k + 1ï¼›è‹¥é˜Ÿé¦–å·²æ»‘å‡ºçª—å£ï¼Œå¼¹å‡º
            if (dq.peekFirst() <= i - k) {
                dq.pollFirst();
            }

            // 4) å½“çª—å£å½¢æˆï¼ˆi >= k-1ï¼‰åï¼Œè®°å½•ç­”æ¡ˆ
            if (i >= k - 1) {
                res[i - k + 1] = nums[dq.peekFirst()];
            }
        }
        return res;
    }
}
```



