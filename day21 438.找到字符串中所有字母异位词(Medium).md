linkğŸ”—ï¼šhttps://leetcode.cn/problems/find-all-anagrams-in-a-string/description/?envType=study-plan-v2&envId=top-100-liked

## é¢˜ç›®

ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸² `s` å’Œ `p`ï¼Œæ‰¾åˆ° `s` ä¸­æ‰€æœ‰ `p` çš„ **å¼‚ä½è¯** çš„å­ä¸²ï¼Œè¿”å›è¿™äº›å­ä¸²çš„èµ·å§‹ç´¢å¼•ã€‚ä¸è€ƒè™‘ç­”æ¡ˆè¾“å‡ºçš„é¡ºåºã€‚



**ç¤ºä¾‹ 1:**

```
è¾“å…¥: s = "cbaebabacd", p = "abc"
è¾“å‡º: [0,6]
è§£é‡Š:
èµ·å§‹ç´¢å¼•ç­‰äº 0 çš„å­ä¸²æ˜¯ "cba", å®ƒæ˜¯ "abc" çš„å¼‚ä½è¯ã€‚
èµ·å§‹ç´¢å¼•ç­‰äº 6 çš„å­ä¸²æ˜¯ "bac", å®ƒæ˜¯ "abc" çš„å¼‚ä½è¯ã€‚
```

 **ç¤ºä¾‹ 2:**

```text
è¾“å…¥: s = "abab", p = "ab"
è¾“å‡º: [0,1,2]
è§£é‡Š:
èµ·å§‹ç´¢å¼•ç­‰äº 0 çš„å­ä¸²æ˜¯ "ab", å®ƒæ˜¯ "ab" çš„å¼‚ä½è¯ã€‚
èµ·å§‹ç´¢å¼•ç­‰äº 1 çš„å­ä¸²æ˜¯ "ba", å®ƒæ˜¯ "ab" çš„å¼‚ä½è¯ã€‚
èµ·å§‹ç´¢å¼•ç­‰äº 2 çš„å­ä¸²æ˜¯ "ab", å®ƒæ˜¯ "ab" çš„å¼‚ä½è¯ã€‚
```

**æç¤º:**

- `1 <= s.length, p.length <= 3 * 104`
- `s` å’Œ `p` ä»…åŒ…å«å°å†™å­—æ¯

## åˆ†æ

æˆ‘ä»¬ä¹‹å‰åšè¿‡ä¸€ä¸ªæ‰¾å¼‚ä½è¯çš„é¢˜ç›®(LeetCode49 å­—æ¯å¼‚ä½è¯åˆ†ç»„)

å½“æ—¶æ˜¯å¦‚ä½•æ‰¾â€œå¼‚ä½è¯â€çš„ï¼Ÿ-> string resortï¼Œä½¿ç”¨dictè®°å½•ï¼Œé‡æ’å¼‚ä½è¯åçš„stringä¸ºkey

ä½¿ç”¨å·¦å³æŒ‡é’ˆåœ¨sä¸­å¡ä½é•¿åº¦ä¸º`p.length()` çš„å­—ç¬¦ä¸²ï¼Œæ‹·è´æ’åºåä¸æ’åºåçš„pè¿›è¡Œæ¯”è¾ƒï¼Œå¦‚æœç›¸åŒåˆ™å°†å·¦æŒ‡é’ˆindexåŠ å…¥åˆ°Listä¸­ï¼Œä¸ç›¸åŒåˆ™å°†çª—å£å³ç§»ã€‚**ç§»åŠ¨æ–¹å¼æ˜¯**ï¼š

 `right ++`, `left = right - p.length()+1`

è¿™ç§ç§»åŠ¨æ–¹å¼å¯ä»¥ä¿è¯çª—å£çš„å¤§å°åœ¨ç§»åŠ¨è¿‡ç¨‹ä¸­å§‹ç»ˆç­‰äº `p.length()`

## é¢˜è§£

Java

æš´åŠ›è§£æ³•ï¼Œå¯ä»¥é€šè¿‡

```java
import java.util.*;

class Solution {
    public List<Integer> findAnagrams(String s, String p) {
        List<Integer> ans = new ArrayList<>();

        // æ’åºåçš„ p
        char[] sortedP = p.toCharArray();
        Arrays.sort(sortedP);

        int left = 0; // åœ¨å¾ªç¯å¤–åˆå§‹åŒ–

        // ä»ç¬¬ä¸€ä¸ªå®Œæ•´çª—å£ [0, m-1] å¼€å§‹
        for (int right = left + p.length() - 1; right < s.length(); right++) {
            // ä¿è¯çª—å£ [left, right] é•¿åº¦å§‹ç»ˆä¸º m
            left = right - p.length() + 1;

            // æ‹·è´çª—å£å­—ç¬¦å¹¶æ’åº
            char[] win = new char[p.length()];
            for (int i = 0; i < p.length(); i++) {
                win[i] = s.charAt(left + i);
            }
            Arrays.sort(win);

            // æ¯”è¾ƒ
            if (Arrays.equals(win, sortedP)) {
                ans.add(left);
            }
        }
        return ans;
    }
}
```



